import{j as o,r as g}from"./chakra-BHTJbLUq.js";const Le=(e,t,n,r,a)=>{if(!r)throw new Error(a??`Invalid property path: ${t}
Couldn't access "${n}" in ${JSON.stringify(e)}`)},Lt=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),ut=e=>Array.isArray(e),Ht=(e,t)=>e.filter((n,r)=>r!==t),bn=(e,t,n,r={})=>{const{remove:a=!1,createNew:s=!0,noError:i=!1}=r,p=e,d=typeof(l=t)=="string"?l:typeof l=="number"?String(l):l.reduce((m,y)=>typeof y=="number"?`${m}[${y}]`:m===""?y:`${m}.${y}`,"");var l;const c=Object.assign(Object.assign({},r),{remove:a,createNew:s,noError:i,fullData:p,fullPath:d}),u=Array.isArray(t)?t:(m=>Array.isArray(m)?m:m.split(/(\.|\[\d+\])/).filter(y=>y!=="."&&y!=="").map(y=>{const h=/\[(\d+)\]/.exec(y);return h?Number(h[1]):y}).flat())(t).filter(m=>m!=="");return ut(e)&&a&&u.length===1?Ht(e,u[0]):ot(e,u,n,c)},ot=(e,t,n,r)=>{const a=Lt(e)?Object.assign({},e):null,s=ut(e)?[...e]:null;if(t.length===0)return e;if(!a&&!s)throw new Error("Can't assign property -- invalid input object");const{createNew:i,remove:p,noError:d,fullData:l,fullPath:c}=r,u=t[0];if(s&&typeof u=="string")return s.map(v=>ot(v,t,n,r));if(t.length===1){if(a&&typeof u=="string"){const v=jn(a,u,n,r);return v??a}return s&&typeof u=="number"?(vn(s,u,n,r),s):(Le(l,c,u,d),e)}const m=a||s||[];if(p&&t.length===2&&typeof t[1]=="number"){const v=m[u],D=t[1];return ut(v)?m[u]=Ht(v,D):Le(l,c,u,d,"Trying to remove an indexed item from an object that is not an array"),m}const y=t.slice(1);if(u in e){if(h=m[u],!ut(h)&&!Lt(h)){if(!i)return Le(l,c,u,d),m;m[u]={}}return m[u]=ot(m[u],y,n,r),m}var h;if(i){const v=typeof y[0]=="number"?[]:{};if(a)return m[u]=v,m[u]=ot(m[u],y,n,r),m;if(s&&Array.isArray(m)){m.push(v);const D=m.length-1;return m[D]=ot(m[D],y,n,r),m}}return Le(l,c,u,d),m},jn=(e,t,n,r)=>{const{remove:a,createNew:s,noError:i,insertAfter:p,insertBefore:d,fullData:l,fullPath:c}=r;if(d!==void 0||p!==void 0){const m=Object.entries(e);let y=1/0;return y=typeof d=="number"?d:typeof p=="number"?p:m.findIndex(([h,v])=>h===(d??p)),p&&y++,m.splice(y,0,[t,n]),Object.fromEntries(m)}const u=t in e;a?u?delete e[t]:Le(l,c,t,i):s||u?e[t]=n:Le(l,c,t,i)},vn=(e,t,n,r)=>{const{noError:a,fullData:s,fullPath:i,createNew:p,insert:d}=r;d&&e.splice(t,0,n),t in e?e[t]=n:p?e.push(n):Le(s,i,t,a)},Ze=(e,t,n)=>{const r=Array.isArray(t)?t:En(t);if(r.length===0)return e;const a=r[0];if(Array.isArray(e)&&typeof a!="number")return e.map(i=>Ze(i,r,n));if(typeof e!="object"||e===null||!(a in e))return xn(e,a,n);const s=e[a];return r.length===1?s:Ze(s,r.slice(1),n)},En=e=>e.split(/(\.|\[\d+\])/).filter(t=>t!=="."&&t!=="").map(t=>{const n=/\[(\d+)\]/.exec(t);return n?Number(n[1]):t}).flat(),xn=(e,t,n)=>{if(n===void 0)throw new Error(`Unable to extract object property
Looking for property: ${t}
In object: ${JSON.stringify(e)}`);return n};function Ut(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function $e(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(l){try{d(r.next(l))}catch(c){s(c)}}function p(l){try{d(r.throw(l))}catch(c){s(c)}}function d(l){var c;l.done?a(l.value):(c=l.value,c instanceof n?c:new n(function(u){u(c)})).then(i,p)}d((r=r.apply(e,[])).next())})}const $t=({className:e,name:t,value:n,setValue:r,handleKeyPress:a,styles:s,textAreaRef:i})=>{if(typeof n!="string")return null;const p=n.slice(-1)===`
`?n+".":n;return o.jsxs("div",{style:{display:"grid"},children:[o.jsx("textarea",{id:`${t}_textarea`,ref:i,style:Object.assign({height:"auto",gridArea:"1 / 1 / 2 / 2",overflowY:"auto",whiteSpace:"pre-wrap"},s),rows:1,className:e,name:`${t}_textarea`,value:n,onChange:d=>r(d.target.value),autoFocus:!0,onFocus:d=>{n.length<40&&d.target.select()},onKeyDown:a}),o.jsx("span",{className:e,style:Object.assign({visibility:"hidden",height:"auto",gridArea:"1 / 1 / 2 / 2",color:"red",opacity:.9,whiteSpace:"pre-wrap",overflowY:"auto",border:"1px solid transparent"},s),children:p})]})},Je=e=>e!==null&&typeof e=="object",Zt=(e,t,n,r="")=>{if(!n&&!r)return!0;switch(e){case"collection":if(n){if(n(t,r))return!0;if(!xt(r,t,n))return!1}if(!n&&r&&!xt(r,t))return!1;break;case"value":if(n&&!n(t,r)||!n&&r&&!Xe(t,r))return!1}return!0},xt=(e="",t,n=Xe)=>{const r=t.value;return Object.entries(r).some(([a,s])=>{const i=[...t.path,a],p=Object.assign(Object.assign({},t),{key:a,path:i,level:t.level+1,value:s,size:i.length,parentData:r});return Je(s)?xt(e,p,n):n(p,e)})},Xe=(e,t="")=>{const{value:n}=e;if(n===null&&"null".includes(t.toLowerCase()))return!0;switch(typeof n){case"string":return n.toLowerCase().includes(t.toLowerCase());case"number":return!!String(n).includes(t);case"boolean":return n?"true".includes(t.toLowerCase())||t==="1":"false".includes(t.toLowerCase())||t==="0";default:return!1}},Ft=({key:e,path:t},n="")=>!!Xe({value:e},n)||!!t.some(r=>Xe({value:r},n)),Te=(e,t)=>(t??"")+e.map(n=>n===""?"\0":n).join("."),kt=e=>e.shiftKey?"Shift":e.metaKey?"Meta":e.ctrlKey?"Control":e.altKey?"Alt":void 0,wn=(e,t,n)=>{const r=e.key,a=kt(e);if(Array.isArray(t))return!!a&&t.includes(a);const{key:s,modifier:i}=t;return(n!=="stringLineBreak"||r!=="Enter"||a!=="Shift"||s!=="Enter"||!(i!=null&&i.includes("Shift")))&&r===s&&(i===a||Array.isArray(i)&&i.includes(a))},Me={key:"Enter"},zt={confirm:Me,cancel:{key:"Escape"},objectConfirm:Object.assign(Object.assign({},Me),{modifier:["Meta","Shift","Control"]}),objectLineBreak:Me,stringConfirm:Me,stringLineBreak:Object.assign(Object.assign({},Me),{modifier:["Shift"]}),numberConfirm:Me,numberUp:{key:"ArrowUp"},numberDown:{key:"ArrowDown"},tabForward:{key:"Tab"},tabBack:{key:"Tab",modifier:"Shift"},booleanConfirm:Me,booleanToggle:{key:" "},clipboardModifier:["Meta","Control"],collapseModifier:["Alt"]},Fe=(e,t,n="next",r)=>{const a=t.slice(0,t.length-1),s=t.slice(-1)[0];if(s===void 0)return null;const i=Ze(e,a),p=Cn(i);Array.isArray(i)||r(p,({key:c,value:u})=>[c,u]);const d=p.findIndex(c=>c.key===s),l=p[d+(n==="next"?1:-1)];return l?Je(l.value)?Object.keys(l.value).length===0?Fe(e,[...a,l.key],n,r):Jt(e,[...a,l.key],n,r):[...a,l.key]:a.length===0?null:Fe(e,a,n,r)},Jt=(e,t,n="next",r)=>{const a=Ze(e,t);if(!Je(a))return t;const s=Array.isArray(a)?a.map((p,d)=>d):Object.keys(a);r(s,p=>[p,a]);const i=n==="next"?s[0]:s[s.length-1];return Jt(e,[...t,i],n,r)},Cn=e=>Array.isArray(e)?e.map((t,n)=>({index:n,value:t,key:n})):Object.entries(e).map(([t,n],r)=>({key:t,value:n,index:r})),Xt=(e,t)=>{var n,r,a,s;const i=e.current,p=(n=i==null?void 0:i.selectionStart)!==null&&n!==void 0?n:1/0,d=(r=i==null?void 0:i.selectionEnd)!==null&&r!==void 0?r:1/0,l=((a=i==null?void 0:i.textContent)===null||a===void 0?void 0:a.slice(0,p))+t+((s=i==null?void 0:i.textContent)===null||s===void 0?void 0:s.slice(d));return i.value=l,i==null||i.setSelectionRange(p+1,p+1),l},wt=e=>{if(e!==Qt){if(Array.isArray(e))return e.map(t=>wt(t));if(e&&typeof e=="object")for(const t in e)e[t]=wt(e[t]);return e}},Qt="__â€‹undefined__",Ot={displayName:"Default",fragments:{edit:"rgb(42, 161, 152)"},styles:{container:{backgroundColor:"#f6f6f6",fontFamily:"monospace"},collection:{},collectionInner:{},collectionElement:{},dropZone:{},property:"#292929",bracket:{color:"rgb(0, 43, 54)",fontWeight:"bold"},itemCount:{color:"rgba(0, 0, 0, 0.3)",fontStyle:"italic"},string:"rgb(203, 75, 22)",number:"rgb(38, 139, 210)",boolean:"green",null:{color:"rgb(220, 50, 47)",fontVariant:"small-caps",fontWeight:"bold"},input:["#292929"],inputHighlight:"#b3d8ff",error:{fontSize:"0.8em",color:"red",fontWeight:"bold"},iconCollection:"rgb(0, 43, 54)",iconEdit:"edit",iconDelete:"rgb(203, 75, 22)",iconAdd:"edit",iconCopy:"rgb(38, 139, 210)",iconOk:"green",iconCancel:"rgb(203, 75, 22)"}},qt=g.createContext({getStyles:()=>({}),icons:{}}),Dn=({theme:e=Ot,icons:t={},docRoot:n,children:r})=>{const a=kn(e,n);return o.jsx(qt.Provider,{value:{getStyles:(s,i)=>typeof a[s]=="function"?a[s](i):a[s],icons:t},children:r})},we=()=>g.useContext(qt),kn=(e,t)=>{var n,r,a,s;const i={},p=(Array.isArray(e)?e:[e]).map(c=>On(c)?Et({fragments:{},styles:c},i):Et(c,i)),d=Et(Ot,{});Object.keys(d).forEach(c=>{const u=c;p.forEach(m=>{m[u]&&(d[u]=Object.assign(Object.assign({},d[u]),m[u]))})});const l=Object.assign({},d);return Object.entries(i).forEach(([c,u])=>{const m=c;l[m]=y=>{const h=u(y)||{};return Object.assign(Object.assign({},d[m]),h)}}),typeof(l==null?void 0:l.inputHighlight)!="function"&&(!((n=l==null?void 0:l.inputHighlight)===null||n===void 0)&&n.backgroundColor)&&t.style.setProperty("--jer-highlight-color",(r=l==null?void 0:l.inputHighlight)===null||r===void 0?void 0:r.backgroundColor),typeof(l==null?void 0:l.iconCopy)!="function"&&(!((a=l==null?void 0:l.iconCopy)===null||a===void 0)&&a.color)&&t.style.setProperty("--jer-icon-copy-color",(s=l==null?void 0:l.iconCopy)===null||s===void 0?void 0:s.color),l},Et=(e,t)=>{const{fragments:n,styles:r}=e,a={};return Object.entries(r).forEach(([s,i])=>{const p=(Array.isArray(i)?i:[i]).reduce((d,l)=>{var c,u;if(typeof l=="function")return t[s]=l,Object.assign({},d);if(typeof l=="string"){const m=(c=n==null?void 0:n[l])!==null&&c!==void 0?c:l;return typeof m=="string"?Object.assign(Object.assign({},d),{[(u=Sn[s])!==null&&u!==void 0?u:"color"]:m}):Object.assign(Object.assign({},d),m)}return Object.assign(Object.assign({},d),l)},{});a[s]=p}),a},On=e=>!("styles"in e),Sn={container:"backgroundColor",collection:"backgroundColor",collectionInner:"backgroundColor",collectionElement:"backgroundColor",dropZone:"borderColor",inputHighlight:"backgroundColor"},en=g.createContext(null),Nn=({children:e,onEditEvent:t,onCollapse:n})=>{const[r,a]=g.useState(null),[s,i]=g.useState(null),[p,d]=g.useState(null),[l,c]=g.useState({path:null,pathString:null}),u=g.useRef(null),m=g.useRef("next"),y=g.useRef(null);return o.jsx(en.Provider,{value:{collapseState:r,setCollapseState:h=>{a(h),n&&h!==null&&(Array.isArray(h)?h.forEach(v=>n(v)):n(h)),h!==null&&setTimeout(()=>a(null),2e3)},getMatchingCollapseState:h=>{if(Array.isArray(r)){for(const v of r)if(Bt(h,v))return v;return null}return Bt(h,r)?r:null},currentlyEditingElement:s,setCurrentlyEditingElement:(h,v)=>{const D=typeof h=="string"||h===null?h:Te(h,v==="key"?"key_":void 0);s!==null&&D!==null&&u.current!==null&&u.current(),i(D),t&&(Array.isArray(h)||h===null)&&t(h,v==="key"),u.current=typeof v=="function"?v:null},areChildrenBeingEdited:h=>s!==null&&s.includes(h),previouslyEditedElement:y.current,setPreviouslyEditedElement:h=>{y.current=h},tabDirection:m.current,setTabDirection:h=>{m.current=h},previousValue:p,setPreviousValue:d,dragSource:l,setDragSource:c},children:e})},Be=()=>{const e=g.useContext(en);if(!e)throw new Error("Missing Context Provider");return e},Bt=(e,t)=>{if(t===null)return!1;if(!t.includeChildren)return t.path.every((n,r)=>e[r]===n)&&t.path.length===e.length;for(const[n,r]of t.path.entries())if(r!==e[n])return!1;return!0},Ct="**INVALID_FUNCTION**",tn=({nodeData:e,showStringQuotes:t=!0,stringTruncate:n=200,pathString:r,canEdit:a,setIsEditing:s,styles:i,translate:p,value:d,TextWrapper:l=({children:c})=>c})=>{const c=d??e.value,[u,m]=g.useState(!1),y=t?'"':"",h=c.length>n,v=()=>{a?s(!0):m(!u)};return o.jsxs("div",{id:`${r}_display`,onDoubleClick:v,onClick:D=>{(D.getModifierState("Control")||D.getModifierState("Meta"))&&v()},className:"jer-value-string",style:i,children:[y,h?o.jsxs(o.Fragment,u?{children:[o.jsx(l,{children:o.jsxs("span",{children:[c,y]})}),o.jsxs("span",{className:"jer-string-expansion jer-show-less",onClick:()=>m(!1),children:[" ",p("SHOW_LESS",e)]})]}:{children:[o.jsxs(l,{children:[o.jsx("span",{children:c.slice(0,n-2).trimEnd()})," "]}),o.jsx("span",{className:"jer-string-expansion jer-ellipsis",onClick:()=>m(!0),children:"..."}),y]}):o.jsx(l,{children:`${c}${y}`})]})},Tn=({styles:e,pathString:t,value:n,setValue:r,handleEdit:a,handleKeyboard:s,keyboardCommon:i})=>{const p=g.useRef(null);return o.jsx($t,{className:"jer-input-text",textAreaRef:p,name:t,value:n,setValue:r,handleKeyPress:d=>{s(d,Object.assign({stringConfirm:a,stringLineBreak:()=>{const l=Xt(p,`
`);r(l)}},i))},styles:e})},An=e=>{var{isEditing:t,path:n,enumType:r}=e,a=Ut(e,["isEditing","path","enumType"]);const{getStyles:s}=we(),i=Te(n),{value:p,setValue:d,nodeData:l,handleEdit:c,handleKeyboard:u,keyboardCommon:m}=a;return t&&r?o.jsxs("div",{className:"jer-select jer-select-enums",children:[o.jsx("select",{name:`${i}-value-select`,className:"jer-select-inner",onChange:y=>d(y.target.value),value:p,autoFocus:!0,onKeyDown:y=>{u(y,Object.assign({stringConfirm:c},m))},children:r.values.map(y=>o.jsx("option",{value:y,children:y},y))}),o.jsx("span",{className:"focus"})]}):t?o.jsx(Tn,Object.assign({styles:s("input",l),pathString:i},a,{setValue:a.setValue})):o.jsx(tn,Object.assign({pathString:i,styles:s("string",l)},a))},Rn=({value:e,setValue:t,isEditing:n,path:r,setIsEditing:a,handleEdit:s,nodeData:i,handleKeyboard:p,keyboardCommon:d})=>{const{getStyles:l}=we();return n?o.jsx("input",{className:"jer-input-number",type:"text",name:Te(r),value:e,onChange:c=>t(c.target.value.replace(/[^0-9.-]/g,"")),autoFocus:!0,onFocus:c=>setTimeout(()=>c.target.select(),10),onKeyDown:c=>p(c,Object.assign({numberConfirm:s,numberUp:()=>t(Number(e)+1),numberDown:()=>t(Number(e)-1)},d)),style:Object.assign({width:String(e).length/1.5+2+"em"},l("input",i))}):o.jsx("span",{onDoubleClick:()=>a(!0),className:"jer-value-number",style:l("number",i),children:e})},Pn=({value:e,setValue:t,isEditing:n,path:r,setIsEditing:a,handleEdit:s,nodeData:i,handleKeyboard:p,keyboardCommon:d})=>{const{getStyles:l}=we();return typeof e!="boolean"?null:n?o.jsx("input",{className:"jer-input-boolean",type:"checkbox",name:Te(r),checked:e,onChange:()=>t(!e),onKeyDown:c=>{c.key===" "&&c.preventDefault(),p(c,Object.assign({booleanConfirm:s,booleanToggle:()=>t(!e)},d))},autoFocus:!0}):o.jsx("span",{onDoubleClick:()=>a(!0),className:"jer-value-boolean",style:l("boolean",i),children:String(e)})},In=(e,t)=>{const n=g.useRef(void 0),r=g.useRef(t);g.useEffect(()=>{r.current=t},[t]);const a=s=>{r.current(s)};g.useEffect(()=>{if(window.clearTimeout(n.current),e)return n.current=window.setTimeout(()=>{window.addEventListener("keydown",a)},100),()=>{window.clearTimeout(n.current),window.removeEventListener("keydown",a)}},[e])},Kn=({value:e,isEditing:t,setIsEditing:n,handleEdit:r,nodeData:a,handleKeyboard:s,keyboardCommon:i})=>{const{getStyles:p}=we();return In(t,d=>s(d,Object.assign({confirm:r},i))),o.jsx("div",{onDoubleClick:()=>n(!0),className:"jer-value-null",style:p("null",a),children:String(e)})},Vn=({value:e})=>{let t="Error!";switch(typeof e){case"string":e===Ct&&(t="Function");break;case"undefined":t="Undefined";break;case"symbol":t="Symbol"}return o.jsx("span",{className:"jer-value-invalid",children:t})},_n=({size:e,style:t,className:n})=>o.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:e,height:e,className:n,style:t,children:[o.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4z"}),o.jsx("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"})]}),Mn=({size:e,style:t,className:n})=>o.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:e,height:e,className:n,style:t,transform:"translate(0, 0.5)",children:[o.jsx("path",{d:"M7 17.013l4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}),o.jsx("path",{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"})]}),Ln=({size:e,style:t,className:n})=>o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:e,height:e,className:n,style:t,children:o.jsx("path",{d:"M6 19a2 2 0 002 2h8a2 2 0 002-2V7H6v12m2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12M15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"})}),Fn=({size:e,style:t,className:n})=>o.jsxs("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:e,height:e,className:n,style:t,children:[o.jsx("path",{d:"M9 2 H15 A1 1 0 0 1 16 3 V5 A1 1 0 0 1 15 6 H9 A1 1 0 0 1 8 5 V3 A1 1 0 0 1 9 2 z"}),o.jsx("path",{d:"M8 4H6a2 2 0 00-2 2v14a2 2 0 002 2h12a2 2 0 002-2v-2M16 4h2a2 2 0 012 2v4M21 14H11"}),o.jsx("path",{d:"M15 10l-4 4 4 4"})]}),zn=({size:e,style:t,className:n})=>o.jsxs("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:e,height:e,className:n,style:t,children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),o.jsx("path",{d:"M22 4L12 14.01l-3-3"})]}),Bn=({size:e,style:t,className:n})=>o.jsx("svg",{baseProfile:"tiny",viewBox:"0 0 24 24",fill:"currentColor",width:e,height:e,className:n,style:t,children:o.jsx("path",{d:"M12 4c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zm-5 8c0-.832.224-1.604.584-2.295l6.711 6.711A4.943 4.943 0 0112 17c-2.757 0-5-2.243-5-5zm9.416 2.295L9.705 7.584A4.943 4.943 0 0112 7c2.757 0 5 2.243 5 5 0 .832-.224 1.604-.584 2.295z"})}),Wn=({size:e,style:t,className:n})=>o.jsx("svg",{viewBox:"0 0 512 512",fill:"currentColor",width:e,height:e,className:n,style:t,children:o.jsx("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})}),ze=({name:e,nodeData:t})=>{var n,r,a,s,i,p,d;const{getStyles:l,icons:c}=we(),u={size:"1.4em",className:"jer-icon"};switch(e){case"add":return(n=c==null?void 0:c.add)!==null&&n!==void 0?n:o.jsx(_n,Object.assign({},u,{style:l("iconAdd",t)}));case"edit":return(r=c==null?void 0:c.edit)!==null&&r!==void 0?r:o.jsx(Mn,Object.assign({},u,{style:l("iconEdit",t)}));case"delete":return(a=c==null?void 0:c.delete)!==null&&a!==void 0?a:o.jsx(Ln,Object.assign({},u,{style:l("iconDelete",t),size:"1.45em"}));case"copy":return(s=c==null?void 0:c.copy)!==null&&s!==void 0?s:o.jsx(Fn,Object.assign({},u,{style:l("iconCopy",t),size:"1.2em"}));case"ok":return(i=c==null?void 0:c.ok)!==null&&i!==void 0?i:o.jsx(zn,Object.assign({},u,{style:Object.assign({fontSize:"90%"},l("iconOk",t))}));case"cancel":return(p=c==null?void 0:c.cancel)!==null&&p!==void 0?p:o.jsx(Bn,Object.assign({},u,{style:Object.assign({fontSize:"130%"},l("iconCancel",t))}));case"chevron":return(d=c==null?void 0:c.chevron)!==null&&d!==void 0?d:o.jsx(Wn,{size:"1em",style:l("iconCollection",t)});default:return o.jsx(o.Fragment,{})}},nn=({startEdit:e,handleDelete:t,handleAdd:n,enableClipboard:r,type:a,customButtons:s,nodeData:i,translate:p,keyboardControls:d,handleKeyboard:l,editConfirmRef:c,getNewKeyOptions:u,jsonStringify:m,onEditEvent:y,showIconTooltips:h})=>{const{getStyles:v}=we(),D=p("KEY_NEW",i),[k,C]=g.useState(D),[T,M]=g.useState(!1),{key:Y,path:B,value:H}=i,Z=Array.isArray(T),G=O=>{var S;if(y&&y(O?[...B,null]:null,O),!O)return void M(!1);const L=Object.keys(Ze(i.fullData,B)),$=u?(S=u(i))===null||S===void 0?void 0:S.filter(ae=>!L.includes(ae)):null;$&&C(""),M($==null||$)};return o.jsxs("div",{className:"jer-edit-buttons",style:{opacity:T?1:void 0},onClick:O=>O.stopPropagation(),children:[r&&o.jsx("div",{onClick:O=>{var S;O.stopPropagation();let L,$,ae="value",J="",ne=null;if(r){const X=kt(O);if(X&&d.clipboardModifier.includes(X)?(L=Gn(B),J=L,ae="path"):(L=H,J=typeof L=="object"?m(H):String(L)),!navigator.clipboard)return void(typeof r=="function"&&r({success:!1,value:L,stringValue:J,path:B,key:Y,type:ae,errorMessage:"Can't access clipboard API"}));(S=navigator.clipboard)===null||S===void 0||S.writeText(J).then(()=>$=!0).catch(F=>{$=!1,ne=F.message}).finally(()=>{typeof r=="function"&&r({success:$,errorMessage:ne,value:L,stringValue:J,path:B,key:Y,type:ae})})}},className:"jer-copy-pulse",title:h?p("TOOLTIP_COPY",i):"",children:o.jsx(ze,{name:"copy",nodeData:i})}),e&&o.jsx("div",{onClick:e,title:h?p("TOOLTIP_EDIT",i):"",children:o.jsx(ze,{name:"edit",nodeData:i})}),t&&o.jsx("div",{onClick:t,title:h?p("TOOLTIP_DELETE",i):"",children:o.jsx(ze,{name:"delete",nodeData:i})}),n&&o.jsx("div",{onClick:()=>{a==="object"?G(!0):n("")},title:h?p("TOOLTIP_ADD",i):"",children:o.jsx(ze,{name:"add",nodeData:i})}),s==null?void 0:s.map(({Element:O,onClick:S},L)=>o.jsx("div",{onClick:$=>S&&S(i,$),children:o.jsx(O,{nodeData:i})},L)),T&&n&&a==="object"&&o.jsxs(o.Fragment,{children:[Z?o.jsxs("div",{className:"jer-select jer-select-keys",children:[o.jsxs("select",{name:"new-key-select",className:"jer-select-inner",onChange:O=>{n(O.target.value),G(!1)},defaultValue:"",autoFocus:!0,onKeyDown:O=>{l(O,{cancel:()=>G(!1)})},children:[o.jsx("option",{value:"",disabled:!0,children:T.length>0?p("KEY_SELECT",i):p("NO_KEY_OPTIONS",i)}),T.map(O=>o.jsx("option",{value:O,children:O},O))]}),o.jsx("span",{className:"focus"})]}):o.jsx("input",{className:"jer-input-new-key",type:"text",name:"new-object-key",value:k,onChange:O=>C(O.target.value),autoFocus:!0,onFocus:O=>O.target.select(),onKeyDown:O=>{l(O,{stringConfirm:()=>{n&&(G(!1),n(k),C(D))},cancel:()=>{G(!1),C(D)}})},style:v("input",i)}),o.jsx(St,{onOk:()=>{Z&&!k||(G(!1),n(k))},onCancel:()=>{G(!1)},nodeData:i,editConfirmRef:c,hideOk:Z})]})]})},St=({onOk:e,onCancel:t,nodeData:n,editConfirmRef:r,hideOk:a=!1})=>o.jsxs("div",{className:"jer-confirm-buttons",children:[!a&&o.jsx("div",{onClick:e,ref:r,children:o.jsx(ze,{name:"ok",nodeData:n})}),o.jsx("div",{onClick:t,children:o.jsx(ze,{name:"cancel",nodeData:n})})]}),Gn=e=>e.reduce((t,n)=>typeof n=="number"?`${t}[${n}]`:t===""?n:`${t}.${n}`,""),Yn=["string","number","boolean","null","object","array"],rn=({props:e,collapsed:t})=>{const{data:n,nodeData:r,parentData:a,onEdit:s,onError:i,showErrorMessages:p,restrictEditFilter:d,restrictDeleteFilter:l,restrictAddFilter:c,restrictDragFilter:u,translate:m,errorMessageTimeout:y}=e,{currentlyEditingElement:h,setCurrentlyEditingElement:v}=Be(),[D,k]=g.useState(null),C=Object.assign(Object.assign({},r),{collapsed:t}),{path:T,key:M,size:Y}=C,B=Te(T),H=!d(C),Z=!l(C),G=!c(C),O=!u(C)&&Z&&h===null,S=F=>{p&&(k(F),setTimeout(()=>k(null),y)),console.warn("Error",F)},L=g.useCallback((F,z)=>{S(F.message),i&&i({currentData:C.fullData,errorValue:z,currentValue:n,name:M,path:T,error:F})},[i,p]),$=h===B,ae=h===`key_${B}`,J=typeof T.slice(-1)[0]=="number",ne={isEditing:$,isEditingKey:ae,isArray:J,canEditKey:a!==null&&H&&G&&Z&&!J},X=M===""&&T.length>0?m("EMPTY_STRING",C):null;return{pathString:B,nodeData:C,path:T,name:M,size:Y,canEdit:H,canDelete:Z,canAdd:G,canDrag:O,error:D,showError:S,onError:L,setError:k,handleEditKey:F=>{if(v(null),M===F||!a)return;const z=T.slice(0,-1);if(Object.keys(a).includes(F))return void L({code:"KEY_EXISTS",message:m("ERROR_KEY_EXISTS",C)},F);const pe=Object.fromEntries(Object.entries(a).map(([W,I])=>W===M?[F,I]:[W,I]));s(pe,z).then(W=>{W&&L({code:"UPDATE_ERROR",message:W},F)})},derivedValues:ne,emptyStringKey:X}},on=({canDrag:e,canDragOnto:t,path:n,nodeData:r,onMove:a,onError:s,translate:i})=>{const{getStyles:p}=we(),{dragSource:d,setDragSource:l}=Be(),[c,u]=g.useState(!1),m=Te(n),y=g.useMemo(()=>e?{onDragStart:k=>{k.stopPropagation(),l({path:n,pathString:m})},onDragEnd:k=>{k.stopPropagation(),l({path:null,pathString:null})}}:{},[e,m]),h=g.useMemo(()=>k=>t?{onDragOver:C=>{C.stopPropagation(),C.preventDefault()},onDrop:C=>{C.stopPropagation(),D(k),l({path:null,pathString:null}),u(!1)},onDragEnter:C=>{var T;C.stopPropagation(),m.startsWith((T=d.pathString)!==null&&T!==void 0?T:"")||u(k)},onDragExit:C=>{C.stopPropagation(),u(!1)}}:{},[d,t,m]),v=g.useMemo(()=>t&&d.pathString!==null?o.jsx("div",Object.assign({className:"jer-drop-target-bottom",style:{height:"50%",position:"absolute",width:"100%",top:"50%",zIndex:n.length}},h("below"))):null,[d,t,n.length]),D=k=>{var C,T;const M=(C=d.path)===null||C===void 0?void 0:C.slice(-1)[0],Y=(T=d.path)===null||T===void 0?void 0:T.slice(0,-1).join("."),B=n.slice(0,-1).join(""),{parentData:H}=r;typeof M=="string"&&H&&!Array.isArray(H)&&Object.keys(H).includes(M)&&M in H&&Y!==B?s({code:"KEY_EXISTS",message:i("ERROR_KEY_EXISTS",r)},M):a(d.path,n,k).then(Z=>{Z&&s({code:"UPDATE_ERROR",message:Z},r.value)})};return{dragSourceProps:y,getDropTargetProps:h,BottomDropTarget:v,DropTargetPadding:({position:k,nodeData:C})=>c===k?o.jsx("div",{className:"jer-drag-n-drop-padding",style:p("dropZone",C)}):null,handleDrop:D}},Hn=(e,t,n,r)=>{var a,s,i;if(!t.current)return 0;const p=parseInt((a=getComputedStyle(n.current).getPropertyValue("line-height"))!==null&&a!==void 0?a:"16px"),d=((i=(s=t.current)===null||s===void 0?void 0:s.offsetWidth)!==null&&i!==void 0?i:0)/(.5*p),l=r(e).replace(/\\n/g,`
`).split(`
`).map(c=>Math.ceil(c.length/d)).reduce((c,u)=>c+u,0)*p;return Math.min(l+30,window.innerHeight-50)},dt=({isEditingKey:e,canEditKey:t,pathString:n,path:r,name:a,arrayIndexFromOne:s,handleKeyboard:i,handleEditKey:p,handleCancel:d,handleClick:l,keyValueArray:c,styles:u,getNextOrPrevious:m,emptyStringKey:y})=>{const{setCurrentlyEditingElement:h}=Be(),v=typeof a=="number"?String(a+(s?1:0)):a;return e?o.jsx("input",{className:"jer-input-text jer-key-edit",type:"text",name:n,defaultValue:v,autoFocus:!0,onFocus:D=>D.target.select(),onKeyDown:D=>i(D,{stringConfirm:()=>p(D.target.value),cancel:d,tabForward:()=>{if(p(D.target.value),c){const k=c==null?void 0:c[0][0];h(k?[...r,k]:m("next"))}else h(r)},tabBack:()=>{p(D.target.value),h(m("prev"))}}),style:{width:v.length/1.5+.5+"em"}}):o.jsxs("span",{className:"jer-key-text",style:Object.assign(Object.assign({},u),{minWidth:`${Math.min(v.length+1,5)}ch`,flexShrink:v.length>10?1:0}),onDoubleClick:()=>t&&h(r,"key"),onClick:l,children:[y?o.jsx("span",{className:"jer-empty-string",children:y}):v,v!==""||y?o.jsx("span",{className:"jer-key-colon",children:":"}):null]})},an=e=>{const{data:t,parentData:n,onEdit:r,onDelete:a,onChange:s,onMove:i,enableClipboard:p,canDragOnto:d,restrictTypeSelection:l,searchFilter:c,searchText:u,showLabel:m,stringTruncate:y,showStringQuotes:h,arrayIndexFromOne:v,indent:D,translate:k,customNodeDefinitions:C,customNodeData:T,handleKeyboard:M,keyboardControls:Y,sort:B,editConfirmRef:H,jsonStringify:Z,showIconTooltips:G}=e,{getStyles:O}=we(),{setCurrentlyEditingElement:S,setCollapseState:L,previouslyEditedElement:$,setPreviouslyEditedElement:ae,tabDirection:J,setTabDirection:ne,previousValue:X,setPreviousValue:F}=Be(),[z,pe]=g.useState(typeof t=="function"?Ct:t),{pathString:W,nodeData:I,path:V,name:q,canEdit:me,canDelete:Ae,canDrag:ke,error:he,onError:le,handleEditKey:ye,emptyStringKey:We,derivedValues:Ce}=rn({props:e}),{dragSourceProps:Qe,getDropTargetProps:qe,BottomDropTarget:re,DropTargetPadding:ce}=on({canDrag:ke,canDragOnto:d,path:V,nodeData:I,onMove:i,onError:le,translate:k}),[be,je]=g.useState(Dt(t,T)),N=g.useCallback(f=>{if(!s)return void pe(f);const E=s({currentData:I.fullData,newValue:f,currentValue:z,name:q,path:V});pe(E)},[s]);g.useEffect(()=>{pe(typeof t=="function"?Ct:t),je(Dt(t,T))},[t,he]);const{CustomNode:_,customNodeProps:Q,hideKey:Oe,showEditTools:ve=!0,showOnEdit:Se,showOnView:Ne,passOriginalNode:Re}=T,Pe=[...Yn,...C.filter(({showInTypesSelector:f=!1,name:E})=>f&&!!E).map(({name:f})=>f)],De=g.useMemo(()=>{if(typeof l=="boolean")return l?[]:Pe;if(Array.isArray(l))return l;const f=l(I);return typeof f=="boolean"?f?[]:Pe:f},[I,l]),[ie,Ie]=g.useState(((f,E)=>{var P;if(typeof f!="string")return null;const oe=E.filter(U=>U instanceof Object&&U.enum&&U.values.includes(f)&&U.matchPriority);return oe.sort((U,te)=>{var Ve,_e;return((Ve=te.matchPriority)!==null&&Ve!==void 0?Ve:0)-((_e=U.matchPriority)!==null&&_e!==void 0?_e:0)}),(P=oe[0])!==null&&P!==void 0?P:null})(z,De)),{isEditing:se}=Ce,Ge=Zt("value",I,c,u);if(se&&(!Ge||!me)){const f=Fe(I.fullData,V,J,B);S(f||$)}if(!Ge)return null;const Ee=f=>{let E;if(S(null),F(null),f===void 0||(P=>P&&typeof P=="object"&&"type"in P&&"target"in P&&"preventDefault"in P&&typeof P.preventDefault=="function")(f))switch(be){case"object":E={[k("DEFAULT_NEW_KEY",I)]:z};break;case"array":E=z??[];break;case"number":{const P=Number(z);E=isNaN(P)?0:P;break}default:E=z}else E=f;r(E,V).then(P=>{P&&le({code:"UPDATE_ERROR",message:P},E)})},fe=()=>{S(null),X===null?(pe(t),F(null)):r(X,V)},{isEditingKey:Ye,canEditKey:He}=Ce,ue=!se&&he,ee=se&&De.length>1,Ke=(be!=="invalid"||_)&&!he&&ve,x=m&&!Oe,j=_&&(se&&Se||!se&&Ne),w={value:z,parentData:n,setValue:N,isEditing:se,canEdit:me,setIsEditing:me?()=>S(V):()=>{},handleEdit:Ee,handleCancel:fe,path:V,stringTruncate:y,showStringQuotes:h,nodeData:I,enumType:ie,translate:k,handleKeyboard:M,keyboardCommon:{cancel:fe,tabForward:()=>{ne("next"),ae(W);const f=Fe(I.fullData,V,"next",B);f&&(Ee(),S(f))},tabBack:()=>{ne("prev"),ae(W);const f=Fe(I.fullData,V,"prev",B);f&&(Ee(),S(f))}}},R={canEditKey:He,isEditingKey:Ye,pathString:W,path:V,name:q,arrayIndexFromOne:v,handleKeyboard:M,handleEditKey:ye,handleCancel:fe,styles:O("property",I),getNextOrPrevious:f=>Fe(I.fullData,V,f,B),emptyStringKey:We},A=j?o.jsx(_,Object.assign({},e,{value:z,customNodeProps:Q,setValue:N,handleEdit:Ee,handleCancel:fe,handleKeyPress:f=>M(f,{stringConfirm:Ee,cancel:fe}),isEditing:se,setIsEditing:()=>S(V),getStyles:O,originalNode:Re?Wt(t,w):void 0,originalNodeKey:Re?o.jsx(dt,Object.assign({},R)):void 0,canEdit:me,keyboardCommon:w.keyboardCommon,onError:le})):Wt(t,w);return o.jsxs("div",Object.assign({className:"jer-component jer-value-component",style:{marginLeft:n!==null?D/2+"em":0,position:"relative"},draggable:ke},Qe,qe("above"),{children:[re,o.jsx(ce,{position:"above",nodeData:I}),o.jsxs("div",{className:"jer-value-main-row",style:{flexWrap:q.length>10?"wrap":"nowrap"},children:[x&&o.jsx(dt,Object.assign({},R)),o.jsxs("div",{className:"jer-value-and-buttons",children:[o.jsx("div",{className:"jer-input-component",children:A}),se?o.jsx(St,{onOk:Ee,onCancel:fe,nodeData:I,editConfirmRef:H}):Ke&&o.jsx(nn,{startEdit:me?()=>{F(X),S(V,fe)}:void 0,handleDelete:Ae?()=>{a(z,V).then(f=>{f&&le({code:"DELETE_ERROR",message:f},z)})}:void 0,enableClipboard:p,translate:k,customButtons:e.customButtons,nodeData:I,handleKeyboard:M,keyboardControls:Y,editConfirmRef:H,jsonStringify:Z,showIconTooltips:G}),ee&&o.jsxs("div",{className:"jer-select jer-select-types",children:[o.jsx("select",{name:`${q}-type-select`,className:"jer-select-inner",onChange:f=>(E=>{const P=C.find(te=>te.name===E);if(P)return r(P.defaultValue,V),je(E),Ie(null),S(null),void L({path:V,collapsed:!1,includeChildren:!1});const oe=De.find(te=>te instanceof Object&&te.enum===E);if(oe)return typeof z=="string"&&oe.values.includes(z)||r(oe.values[0],V).then(te=>{te&&(le({code:"UPDATE_ERROR",message:te},U),S(null))}),void Ie(oe);const U=Un(z,E,k("DEFAULT_NEW_KEY",I),T!=null&&T.CustomNode?k("DEFAULT_STRING",I):void 0);["string","number","boolean"].includes(E)||S(null),r(U,V).then(te=>{te?(le({code:"UPDATE_ERROR",message:te},U),S(null)):Ie(null)})})(f.target.value),value:ie?ie.enum:be,children:De.map(f=>f instanceof Object&&"enum"in f?o.jsx("option",{value:f.enum,children:f.enum},f.enum):o.jsx("option",{value:f,children:f},f))}),o.jsx("span",{className:"focus"})]}),ue&&o.jsx("span",{className:"jer-error-slug",style:O("error",I),children:he})]})]}),o.jsx(ce,{position:"below",nodeData:I})]}))},Dt=(e,t)=>t!=null&&t.CustomNode&&(t!=null&&t.name)&&t.showInTypesSelector?t.name:typeof e=="string"?"string":typeof e=="number"?"number":typeof e=="boolean"?"boolean":e===null?"null":"invalid",Wt=(e,t)=>{const n=Dt(e),{value:r}=t;switch(n){case"string":return o.jsx(An,Object.assign({},t,{value:r}));case"number":return o.jsx(Rn,Object.assign({},t,{value:r}));case"boolean":return o.jsx(Pn,Object.assign({},t,{value:r}));case"null":return o.jsx(Kn,Object.assign({},t));default:return o.jsx(Vn,Object.assign({},t))}},Un=(e,t,n,r)=>{switch(t){case"string":return r??String(e);case"number":{const a=Number(e);return isNaN(a)?0:a}case"boolean":return!!e;case"null":return null;case"object":return{[n]:e};case"array":return[e];default:return String(e)}},sn=(e=[],t)=>{const n=e.filter(({condition:h})=>h(t));if(n.length===0)return{};const r=n[0],{element:a,wrapperElement:s,customNodeProps:i,wrapperProps:p,hideKey:d=!1,showEditTools:l=!0,showOnEdit:c=!1,showOnView:u=!0,showCollectionWrapper:m=!0}=r,y=Ut(r,["element","wrapperElement","customNodeProps","wrapperProps","hideKey","showEditTools","showOnEdit","showOnView","showCollectionWrapper"]);return Object.assign({CustomNode:a,CustomWrapper:s,customNodeProps:i,wrapperProps:p,hideKey:d,showEditTools:l,showOnEdit:c,showOnView:u,showCollectionWrapper:m},y)},ln=e=>{const{getStyles:t}=we(),{collapseState:n,setCollapseState:r,getMatchingCollapseState:a,currentlyEditingElement:s,setCurrentlyEditingElement:i,areChildrenBeingEdited:p,previousValue:d,setPreviousValue:l}=Be(),{mainContainerRef:c,data:u,nodeData:m,parentData:y,showCollectionCount:h,onEdit:v,onAdd:D,onDelete:k,canDragOnto:C,collapseFilter:T,collapseAnimationTime:M,onMove:Y,enableClipboard:B,onEditEvent:H,showIconTooltips:Z,searchFilter:G,searchText:O,indent:S,sort:L,showArrayIndices:$,arrayIndexFromOne:ae,defaultValue:J,newKeyOptions:ne,translate:X,customNodeDefinitions:F,customNodeData:z,jsonParse:pe,jsonStringify:W,TextEditor:I,keyboardControls:V,handleKeyboard:q,insertAtTop:me,onCollapse:Ae,editConfirmRef:ke,collapseClickZones:he}=e,[le,ye]=g.useState(W(u)),We=T(m),{contentRef:Ce,isAnimating:Qe,maxHeight:qe,collapsed:re,animateCollapse:ce,cssTransitionValue:be}=((b,K,ge,de,xe)=>{const[fn,lt]=g.useState(ge?0:void 0),[ct,gn]=g.useState(ge),ht=g.useRef(!1),yt=g.useRef(null),Vt=g.useRef(0),_t=g.useRef(0),hn=K/1e3+"s",yn=g.useCallback(bt=>{var jt,vt;if(ct!==bt){switch(window.clearTimeout(_t.current),ht.current=!0,bt){case!0:{const Mt=(vt=(jt=yt.current)===null||jt===void 0?void 0:jt.offsetHeight)!==null&&vt!==void 0?vt:0;Vt.current=Mt,lt(Mt),setTimeout(()=>{lt(0)},5);break}case!1:lt(Vt.current||Hn(b,yt,de,xe))}gn(!ct),_t.current=window.setTimeout(()=>{ht.current=!1,bt||lt(void 0)},K)}},[K,ct,b,de,xe]);return{contentRef:yt,isAnimating:ht.current,animateCollapse:yn,maxHeight:fn,collapsed:ct,cssTransitionValue:hn}})(u,M,We,c,W),{pathString:je,nodeData:N,path:_,name:Q,size:Oe,canEdit:ve,canDelete:Se,canAdd:Ne,canDrag:Re,error:Pe,setError:De,onError:ie,handleEditKey:Ie,emptyStringKey:se,derivedValues:Ge}=rn({props:e,collapsed:re}),{dragSourceProps:Ee,getDropTargetProps:fe,BottomDropTarget:Ye,DropTargetPadding:He}=on({canDrag:Re,canDragOnto:C,path:_,nodeData:N,onMove:Y,onError:ie,translate:X}),ue=g.useRef(!We),{isEditing:ee,isEditingKey:Ke,isArray:x,canEditKey:j}=Ge;g.useEffect(()=>{ye(W(u))},[u,W]),g.useEffect(()=>{const b=T(N)&&!ee;ue.current=!b,ce(b)},[T]),g.useEffect(()=>{if(n!==null){const b=a(_);b&&(ue.current=!0,ce(b.collapsed))}},[n]);const w=g.useRef(null),R=g.useCallback((b,K)=>{if(typeof J!="function")return J;const ge=J(b,K);return ge!==void 0?ge:null},[J]),A=g.useCallback(b=>ne?typeof ne!="function"?ne:ne(b):null,[ne]),{CustomNode:f,customNodeProps:E,CustomWrapper:P,wrapperProps:oe={},hideKey:U,showEditTools:te=!0,showOnEdit:Ve,showOnView:_e,showCollectionWrapper:pt=!0}=z,at=p(je);if(at&&re&&ce(!1),!(Zt("collection",N,G,O)||N.level===0)&&!at)return null;const Ue=Array.isArray(u)?"array":"object",mt=Ue==="array"?{open:"[",close:"]"}:{open:"{",close:"}"},Nt=b=>{if(b.key!=="Tab"||b.getModifierState("Shift"))q(b,{objectConfirm:st,cancel:et});else{b.preventDefault();const K=Xt(w,"	");ye(K)}},it=b=>{b.stopPropagation();const K=kt(b);if(K&&V.collapseModifier.includes(K))return ue.current=!0,void r({collapsed:!re,path:_,includeChildren:!0});s&&s.includes(je)||(ue.current=!0,r(null),Ae&&Ae({path:_,collapsed:!re,includeChildren:!1}),ce(!re))},st=()=>{try{const b=pe(le);if(i(null),l(null),De(null),W(b)===W(u))return;v(b,_).then(K=>{K&&ie({code:"UPDATE_ERROR",message:K},b)})}catch{ie({code:"INVALID_JSON",message:X("ERROR_INVALID_JSON",N)},le)}},cn=_.length>0?()=>{k(u,_).then(b=>{b&&ie({code:"DELETE_ERROR",message:b},u)})}:void 0,et=()=>{i(null),d===null?(De(null),ye(W(u)),l(null)):v(d,_)},Tt=h==="when-closed"?re:h,un=!ee&&te,dn=($||!x)&&!U&&Q!==void 0,pn=f&&(ee&&Ve||!ee&&_e),ft=Object.entries(u).map(([b,K])=>[Ue==="array"?Number(b):b,K]);Ue==="object"&&L(ft,b=>b);const At=ue.current?ee?o.jsxs("div",{className:"jer-collection-text-edit",children:[I?o.jsx(I,{value:le,onChange:ye,onKeyDown:b=>q(b,{objectConfirm:st,cancel:et})}):o.jsx($t,{textAreaRef:w,className:"jer-collection-text-area",name:je,value:le,setValue:ye,handleKeyPress:Nt,styles:t("input",N)}),o.jsx("div",{className:"jer-collection-input-button-row",children:o.jsx(St,{onOk:st,onCancel:et,nodeData:N,editConfirmRef:ke})})]}):ft.map(([b,K],ge)=>{const de={key:b,value:K,path:[..._,b],level:_.length+1,index:ge,size:Je(K)?Object.keys(K).length:null,parentData:u,fullData:N.fullData},xe=sn(F,de);return o.jsx("div",{className:"jer-collection-element",style:t("collectionElement",de),children:Je(K)&&!(xe!=null&&xe.renderCollectionAsValue)?o.jsx(ln,Object.assign({},e,{data:K,parentData:u,nodeData:de,showCollectionCount:h,canDragOnto:ve,customNodeData:xe}),b):o.jsx(an,Object.assign({},e,{data:K,parentData:u,nodeData:de,canDragOnto:ve,showLabel:Ue==="object"||$,customNodeData:xe}),b)},b)}):null,gt=!!pt&&re&&!at;gt||(ue.current=!0);const Rt=Object.assign(Object.assign({},e),{data:u,value:u,parentData:y,nodeData:N,setValue:b=>$e(void 0,void 0,void 0,function*(){return yield v(b,_)}),handleEdit:st,handleCancel:et,handleKeyPress:Nt,isEditing:ee,setIsEditing:()=>i(_),getStyles:t,canDragOnto:ve,canEdit:ve,keyboardCommon:{},onError:ie}),mn=pn?o.jsx(f,Object.assign({customNodeProps:E},Rt,{children:At})):At,Pt=un&&o.jsx(nn,{startEdit:ve?()=>{ue.current=!0,l(null),i(_)}:void 0,handleAdd:Ne?b=>{ce(!1);const K=R(N,b);if(Ue==="array"){const ge=me.array?0:u.length,de=me.array?{insert:!0}:{};D(K,[..._,ge],de).then(xe=>{xe&&ie({code:"ADD_ERROR",message:xe},K)})}else if(b in u)ie({code:"KEY_EXISTS",message:X("ERROR_KEY_EXISTS",N)},b);else{const ge=me.object?{insertBefore:0}:{};D(K,[..._,b],ge).then(de=>{de&&ie({code:"ADD_ERROR",message:de},K)})}}:void 0,handleDelete:Se?cn:void 0,enableClipboard:B,type:Ue,nodeData:N,translate:X,customButtons:e.customButtons,keyboardControls:V,handleKeyboard:q,getNewKeyOptions:A,editConfirmRef:ke,jsonStringify:W,onEditEvent:H,showIconTooltips:Z}),It={canEditKey:j,isEditingKey:Ke,pathString:je,path:_,name:Q,arrayIndexFromOne:ae,handleKeyboard:q,handleEditKey:Ie,handleCancel:et,keyValueArray:ft,styles:t("property",N),getNextOrPrevious:b=>Fe(N.fullData,_,b,L),handleClick:he.includes("property")?it:b=>b.stopPropagation(),emptyStringKey:se},Kt=o.jsxs("div",Object.assign({className:"jer-component jer-collection-component",style:Object.assign(Object.assign({marginLeft:(_.length===0?0:S/2)+"em"},t("collection",N)),{position:"relative"}),draggable:Re},Ee,fe("above"),{children:[o.jsx("div",{className:"jer-clickzone",style:{width:S/2+1+"em",zIndex:10+2*N.level},onClick:he.includes("left")?it:void 0}),!ee&&Ye,o.jsx(He,{position:"above",nodeData:N}),pt?o.jsxs("div",{className:"jer-collection-header-row",style:{position:"relative"},onClick:he.includes("header")?it:void 0,children:[o.jsxs("div",{className:"jer-collection-name",children:[o.jsx("div",{className:"jer-collapse-icon jer-accordion-icon"+(re?" jer-rotate-90":""),style:{zIndex:11+2*N.level,transition:be},onClick:it,children:o.jsx(ze,{name:"chevron",rotate:re,nodeData:N})}),dn&&o.jsx(dt,Object.assign({},It)),!ee&&o.jsx("span",{className:"jer-brackets jer-bracket-open",style:t("bracket",N),children:mt.open})]}),!ee&&Tt&&o.jsx("div",{className:"jer-collection-item-count"+(Tt?" jer-visible":" jer-hidden"),style:Object.assign(Object.assign({},t("itemCount",N)),{transition:be}),children:Oe===1?X("ITEM_SINGLE",Object.assign(Object.assign({},N),{size:1}),1):X("ITEMS_MULTIPLE",N,Oe)}),o.jsx("div",{className:"jer-brackets"+(gt?" jer-visible":" jer-hidden"),style:Object.assign(Object.assign({},t("bracket",N)),{transition:be}),children:mt.close}),Pt]}):U?o.jsx(o.Fragment,{}):o.jsxs("div",{className:"jer-collection-header-row",style:{position:"relative"},children:[o.jsx(dt,Object.assign({},It)),Pt]}),o.jsxs("div",{className:"jer-collection-inner",style:Object.assign(Object.assign({overflowY:gt||Qe?"clip":"visible",maxHeight:at?void 0:qe},t("collectionInner",N)),{transition:be}),ref:Ce,children:[mn,o.jsx("div",{className:ee?"jer-collection-error-row":"jer-collection-error-row-edit",children:Pe&&o.jsx("span",{className:"jer-error-slug",style:t("error",N),children:Pe})}),!ee&&pt&&o.jsx("div",{className:"jer-brackets jer-bracket-outside",style:Object.assign(Object.assign({},t("bracket",N)),{marginLeft:(S<3?-1:S<6?-.5:0)+"em"}),children:mt.close})]}),o.jsx(He,{position:"below",nodeData:N})]}));return P?o.jsx(P,Object.assign({customNodeProps:oe},Rt,{children:Kt})):Kt},$n={ITEM_SINGLE:"{{count}} item",ITEMS_MULTIPLE:"{{count}} items",KEY_NEW:"Enter new key",KEY_SELECT:"Select key",NO_KEY_OPTIONS:"No key options",ERROR_KEY_EXISTS:"Key already exists",ERROR_INVALID_JSON:"Invalid JSON",ERROR_UPDATE:"Update unsuccessful",ERROR_DELETE:"Delete unsuccessful",ERROR_ADD:"Adding node unsuccessful",DEFAULT_STRING:"New data!",DEFAULT_NEW_KEY:"key",SHOW_LESS:"(Show less)",EMPTY_STRING:"<empty string>",TOOLTIP_COPY:"Copy to clipboard",TOOLTIP_EDIT:"Edit",TOOLTIP_DELETE:"Delete",TOOLTIP_ADD:"Add"},Zn=(e,t)=>(n,r,a)=>((s,i,p,d,l)=>{if(i[d]){const u=i[d](p);if(u!==null)return u}const c=d in s?s[d]:$n[d];return l===void 0?c:c==null?void 0:c.replace("{{count}}",String(l))})(e,t,r,n,a);var Gt=[],tt=[];(function(e,t){if(e&&typeof document<"u"){var n,r=t.prepend===!0?"prepend":"append",a=t.singleTag===!0,s=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(a){var i=Gt.indexOf(s);i===-1&&(i=Gt.push(s)-1,tt[i]={}),n=tt[i]&&tt[i][r]?tt[i][r]:tt[i][r]=p()}else n=p();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function p(){var d=document.createElement("style");if(d.setAttribute("type","text/css"),t.attributes)for(var l=Object.keys(t.attributes),c=0;c<l.length;c++)d.setAttribute(l[c],t.attributes[l[c]]);var u=r==="prepend"?"afterbegin":"beforeend";return s.insertAdjacentElement(u,d),d}})(':root{--jer-select-border:#b6b6b6;--jer-select-focus:#777;--jer-select-arrow:#777;--jer-form-border:1px solid #ededf0;--jer-form-border-focus:1px solid #e2e2e2;--jer-highlight-color:#b3d8ff}.jer-visible{opacity:1}.jer-hidden{opacity:0}.jer-select select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border:none;color:#000;cursor:inherit;font-family:inherit;font-size:.8em;line-height:inherit;margin:0;outline:none;padding:0 1em 0 0;z-index:1}select::-ms-expand{display:none}.jer-select{align-items:center;background-color:#fff;background-image:linear-gradient(0deg,#f9f9f9,#fff 33%);border:1px solid var(--jer-select-border);border-radius:.25em;cursor:pointer;display:grid;grid-template-areas:"select";line-height:1.1;max-width:15ch;min-width:12ch;padding:.25em .5em;position:relative}.jer-select select,.jer-select:after{grid-area:select}.jer-select:not(.jer-select--multiple):after{background-color:var(--jer-select-arrow);clip-path:polygon(100% 0,0 0,50% 100%);content:"";height:.5em;justify-self:end;width:.8em}select:focus+.focus{border:1px solid var(--jer-select-focus);border-radius:inherit;bottom:-1px;left:-1px;position:absolute;right:-1px;top:-1px}.jer-select-inner{text-overflow:ellipsis;width:100%}.jer-editor-container{border-radius:.5em;font-size:16px;line-height:1;padding:1em 1em 1em 2em;position:relative;text-align:left}.jer-editor-container textarea{border:var(--jer-form-border);border-radius:.3em;color:var(--jer-input-color);outline:none}.jer-editor-container textarea:focus{border:var(--jer-form-border-focus)}.jer-editor-container input{border:var(--jer-form-border);border-radius:.3em;font-family:inherit;outline:none}.jer-editor-container input:focus{border:var(--jer-form-border-focus)}.jer-editor-container ::selection{background-color:var(--jer-highlight-color)}.jer-collection-header-row,.jer-value-main-row{align-items:center;display:flex;gap:.3em;min-height:1.7em}.jer-collection-header-row{display:flex;flex-wrap:wrap}.jer-collapse-icon{left:-1.2em;position:absolute;top:.35em}.jer-collection-inner{position:relative}.jer-collection-text-edit{align-items:flex-start;display:flex;flex-direction:column;gap:.3em;line-height:1.1em}.jer-collection-text-area{font-family:inherit;font-size:.85em;max-height:40em;overflow:hidden;padding:.2em .5em 0;resize:both}.jer-collection-input-button-row{display:flex;font-size:150%;justify-content:flex-end;margin-top:.4em;width:100%}.jer-collection-error-row{bottom:.5em;position:absolute}.jer-error-slug{margin-left:1em}.jer-value-component{position:relative}.jer-value-main-row{display:flex;gap:0}.jer-value-and-buttons{align-items:center;display:flex;justify-content:flex-start;padding-left:.5em}.jer-value-error-row{position:absolute}.jer-value-string{line-height:1.3em;overflow-wrap:anywhere;white-space:pre-wrap;word-break:break-word}.jer-string-expansion{cursor:pointer;filter:saturate(50%);opacity:.6}.jer-show-less{font-size:80%}.jer-hyperlink{text-decoration:underline}.jer-input-text{font-family:inherit;font-size:.9em;height:1.4em;line-height:1.2em;margin:0;min-width:6em;overflow:hidden;padding:.25em .5em .2em;resize:none}.jer-input-boolean{margin-left:.3em;margin-right:.3em;transform:scale(1.5)}.jer-key-text{line-height:1.1em;white-space:pre-wrap;word-break:break-word}.jer-key-edit{font-size:inherit;font-size:.9em;padding:0 .3em}.jer-value-invalid{font-style:italic;opacity:.5}.jer-input-number{font-size:90%;min-width:3em}.jer-confirm-buttons,.jer-edit-buttons{align-items:center;cursor:pointer;display:flex;height:1em}.jer-input-buttons{gap:.4em}.jer-edit-buttons{gap:.4em;margin-left:.5em;opacity:0}.jer-confirm-buttons{gap:.2em;margin-left:.4em}.jer-edit-buttons:hover{opacity:1;position:relative}.jer-collection-header-row:hover>.jer-edit-buttons,.jer-value-and-buttons:hover>.jer-edit-buttons,.jer-value-main-row:hover>.jer-edit-buttons{opacity:1}.jer-copy-pulse{position:relative;transition:.3s}.jer-copy-pulse:hover{opacity:.85;transform:scale(1.2);transition:.3s}.jer-copy-pulse:after{border-radius:50%;box-shadow:0 0 15px 5px var(--jer-icon-copy-color);content:"";display:block;height:100%;left:0;opacity:0;position:absolute;top:0;transition:all .5s;width:100%}.jer-copy-pulse:active:after{border-radius:4em;box-shadow:0 0 0 0 var(--jer-icon-copy-color);left:0;opacity:1;position:absolute;top:0;transition:0s}.jer-copy-pulse:active{top:.07em}.jer-rotate-90{transform:rotate(-90deg)}.jer-icon:hover{opacity:.85;transform:scale(1.2);transition:.3s}.jer-empty-string{font-size:90%;font-style:italic}.jer-drag-n-drop-padding{border:1px dashed #e0e0e0;border-radius:.3em;height:.5em}.jer-clickzone{height:calc(100% - .8em);left:-1em;position:absolute;top:1.2em}',{});const Jn=({data:e,setData:t,rootName:n="root",onUpdate:r=()=>{},onEdit:a=r,onDelete:s=r,onAdd:i=r,onChange:p,onError:d,onEditEvent:l,showErrorMessages:c=!0,enableClipboard:u=!0,indent:m=2,collapse:y=!1,collapseAnimationTime:h=300,showCollectionCount:v=!0,restrictEdit:D=!1,restrictDelete:k=!1,restrictAdd:C=!1,restrictTypeSelection:T=!1,restrictDrag:M=!0,viewOnly:Y,searchFilter:B,searchText:H,searchDebounceTime:Z=350,keySort:G=!1,showArrayIndices:O=!0,arrayIndexFromOne:S=!1,showStringQuotes:L=!0,showIconTooltips:$=!1,defaultValue:ae=null,newKeyOptions:J,minWidth:ne=250,maxWidth:X="min(600px, 90vw)",rootFontSize:F,stringTruncate:z=250,translations:pe={},className:W,id:I,customText:V={},customNodeDefinitions:q=[],customButtons:me=[],jsonParse:Ae=JSON.parse,jsonStringify:ke=(re,ce)=>JSON.stringify(re,ce,2),TextEditor:he,errorMessageTimeout:le=2500,keyboardControls:ye={},externalTriggers:We,insertAtTop:Ce=!1,onCollapse:Qe,collapseClickZones:qe=["header","left"]})=>{const{getStyles:re}=we(),{setCurrentlyEditingElement:ce}=Be(),be=g.useMemo(()=>rt(y),[y]),je=g.useMemo(()=>Zn(pe,V),[pe,V]),[N,_]=g.useState(H),[Q,Oe]=(({setData:x,data:j})=>{const[w,R]=g.useState(x?void 0:j),A=g.useCallback(f=>{x?x(f):R(f)},[x]);return g.useEffect(()=>{x||R(j)},[j]),[x?j:w,A]})({setData:t,data:e}),ve=g.useRef(null);g.useEffect(()=>{ce(null);const x=setTimeout(()=>_(H),Z);return()=>clearTimeout(x)},[H,Z]);const Se={key:n,path:[],level:0,index:0,value:Q,size:typeof Q=="object"&&Q!==null?Object.keys(Q).length:1,parentData:null,fullData:Q},Ne=(x,j)=>$e(void 0,void 0,void 0,function*(){const w=yield x(j);if(w===!0||w===void 0)return void Oe(j.newData);const R=Qn(w)?w:["error",w],[A,f]=R;if(A==="error")return Oe(j.currentData),f===!1?je("ERROR_UPDATE",Se):String(f);Oe(f)}),Re=g.useMemo(()=>rt(D,Y),[D,Y]),Pe=g.useMemo(()=>rt(k,Y),[k,Y]),De=g.useMemo(()=>rt(C,Y),[C,Y]),ie=g.useMemo(()=>rt(M,Y),[M,Y]),Ie=g.useMemo(()=>Xn(B),[B]),se=g.useMemo(()=>(x=>{const j=Object.assign({},zt);for(const w of Object.keys(zt)){const R=w;if(x[R]){const A=x[R],f=["clipboardModifier","collapseModifier"].includes(w)?Array.isArray(A)?A:[A]:typeof A=="string"?{key:A}:A;j[R]=f,["stringConfirm","numberConfirm","booleanConfirm"].forEach(E=>{!x[E]&&x.confirm&&(j[E]=j.confirm)})}}return j})(ye),[ye]),Ge=g.useCallback((x,j)=>((w,R,A)=>{const f=Object.entries(R);for(const[E,P]of f)if(wn(A,w[E],E)){A.preventDefault(),P();break}})(se,j,x),[se]),Ee=g.useMemo(()=>{const x=Yt(q,"stringifyReplacer");return j=>ke(j,x)},[q,ke]),fe=g.useMemo(()=>{const x=Yt(q,"parseReviver");return j=>{const w=Ae(j,x);return wt(w)}},[q,Ae]),Ye=g.useRef(null);((x,j)=>{const{setCurrentlyEditingElement:w,currentlyEditingElement:R,setCollapseState:A}=Be();g.useEffect(()=>{if(!x)return;const{collapse:f,edit:E}=x;f&&A(f);const P=!(E!=null&&E.path)||Te(E.path)===R;switch(E==null?void 0:E.action){case"accept":P&&(j.current&&j.current.click(),w(null));break;case"cancel":P&&w(null);break;default:E!=null&&E.path&&w(E.path)}},[x])})(We,Ye);const He=g.useCallback((x,j)=>{G!==!1&&(typeof G!="function"?x.sort((w,R)=>{const A=j(w)[0],f=j(R)[0];return A<f?-1:A>f?1:0}):x.sort((w,R)=>G(j(w),j(R))))},[G]),ue=sn(q,Se),ee={mainContainerRef:ve,name:n,nodeData:Se,onEdit:(x,j)=>$e(void 0,void 0,void 0,function*(){const{currentData:w,newData:R,currentValue:A,newValue:f}=nt(Q,j,x,"update");if(A!==f)return yield Ne(a,{currentData:w,newData:R,currentValue:A,newValue:f,name:j.slice(-1)[0],path:j})}),onDelete:(x,j)=>$e(void 0,void 0,void 0,function*(){const{currentData:w,newData:R,currentValue:A,newValue:f}=nt(Q,j,x,"delete");return yield Ne(s,{currentData:w,newData:R,currentValue:A,newValue:f,name:j.slice(-1)[0],path:j})}),onAdd:(x,j,w)=>$e(void 0,void 0,void 0,function*(){const{currentData:R,newData:A,currentValue:f,newValue:E}=nt(Q,j,x,"add",w);return yield Ne(i,{currentData:R,newData:A,currentValue:f,newValue:E,name:j.slice(-1)[0],path:j})}),onChange:p,onError:d,onEditEvent:l,showErrorMessages:c,onMove:(x,j,w)=>$e(void 0,void 0,void 0,function*(){if(x===null)return;const{currentData:R,newData:A,currentValue:f}=nt(Q,x,"","delete"),E=x.slice(-1)[0],P=j.slice(0,-1),oe=j.slice(-1)[0];let U=typeof oe=="number"?w==="above"?oe:oe+1:typeof E=="number"?`arr_${E}`:E;x.slice(0,-1).join(".")===j.slice(0,-1).join(".")&&typeof E=="number"&&typeof U=="number"&&E<U&&(U-=1);const te=typeof U=="number"?{insert:!0}:w==="above"?{insertBefore:oe}:{insertAfter:oe},{newData:Ve,newValue:_e}=nt(A,[...P,U],f,"add",te);return yield Ne(a,{currentData:R,newData:Ve,currentValue:f,newValue:_e,name:j.slice(-1)[0],path:j})}),showCollectionCount:v,collapseFilter:be,collapseAnimationTime:h,restrictEditFilter:Re,restrictDeleteFilter:Pe,restrictAddFilter:De,restrictTypeSelection:T,restrictDragFilter:ie,canDragOnto:!1,searchFilter:Ie,searchText:N,enableClipboard:u,keySort:G,sort:He,showArrayIndices:O,arrayIndexFromOne:S,showStringQuotes:L,showIconTooltips:$,indent:m,defaultValue:ae,newKeyOptions:J,stringTruncate:z,translate:je,customNodeDefinitions:q,customNodeData:ue,customButtons:me,parentData:null,jsonParse:fe,jsonStringify:Ee,TextEditor:he,errorMessageTimeout:le,handleKeyboard:Ge,keyboardControls:se,insertAtTop:{object:Ce===!0||Ce==="object",array:Ce===!0||Ce==="array"},onCollapse:Qe,editConfirmRef:Ye,collapseClickZones:qe},Ke=Object.assign(Object.assign({},re("container",Se)),{minWidth:ne,maxWidth:X});return Ke.fontSize=F??Ke.fontSize,o.jsx("div",{id:I,ref:ve,className:`jer-editor-container ${W??""}`,style:Ke,children:Je(Q)&&!ue.renderCollectionAsValue?o.jsx(ln,Object.assign({data:Q},ee)):o.jsx(an,Object.assign({data:Q,showLabel:!0},ee))})},tr=e=>{var t;const[n,r]=g.useState();return g.useEffect(()=>{const a=document.documentElement;r(a)},[]),n?o.jsx(Dn,{theme:(t=e.theme)!==null&&t!==void 0?t:Ot,icons:e.icons,docRoot:n,children:o.jsx(Nn,{onEditEvent:e.onEditEvent,onCollapse:e.onCollapse,children:o.jsx(Jn,Object.assign({},e))})}):null},nt=(e,t,n,r,a={})=>{if(t.length===0)return{currentData:e,newData:n,currentValue:e,newValue:n};const s=Object.assign({remove:r==="delete"},a),i=r!=="add"?Ze(e,t):void 0;return{currentData:e,newData:bn(e,t,n,s),currentValue:i,newValue:r!=="delete"?n:void 0}},rt=(e,t)=>t?()=>!0:typeof e=="boolean"?()=>e:typeof e=="number"?({level:n})=>n>=e:e,Xn=e=>{if(e!==void 0)return e==="value"?Xe:e==="key"?Ft:e==="all"?(t,n)=>Xe(t,n)||Ft(t,n):e},Qn=e=>Array.isArray(e)&&e.length===2&&["error","value"].includes(e[0]),Yt=(e,t)=>{const n=t==="stringifyReplacer"?[r=>r===void 0?Qt:r]:[];if(n.push(...e.map(r=>r[t]).filter(r=>!!r)),n.length!==0)return(r,a)=>{let s=a;for(const i of n)s=i(s);return s}},qn=e=>{var t;const{value:n,setIsEditing:r,getStyles:a,nodeData:s}=e,i=a("string",s);return o.jsx("div",{onDoubleClick:()=>r(!0),onClick:p=>{(p.getModifierState("Control")||p.getModifierState("Meta"))&&r(!0)},className:"jer-value-string jer-hyperlink",style:i,children:o.jsx("a",{href:n,target:"_blank",rel:"noreferrer",style:{color:(t=i.color)!==null&&t!==void 0?t:void 0},children:o.jsx(tn,Object.assign({},e,{pathString:Te(s.path),styles:i,value:s.value}))})})},nr={condition:({value:e})=>typeof e=="string"&&/^https?:\/\/.+\..+$/.test(e),element:qn,showOnView:!0,showOnEdit:!1},rr={displayName:"Github Dark",styles:{container:{backgroundColor:"#0d1117",color:"white"},dropZone:"rgba(165, 214, 255, 0.17)",property:"#E6EDF3",bracket:"#56d364",itemCount:"#8B949E",string:"#A5D6FF",number:"#D2A8FF",boolean:{color:"#FF7B72",fontSize:"90%",fontWeight:"bold"},null:"green",iconCollection:"#D2A8FF",iconEdit:"#D2A8FF",iconDelete:"rgb(203, 75, 22)",iconAdd:"rgb(203, 75, 22)",iconCopy:"#A5D6FF",iconOk:"#56d364",iconCancel:"rgb(203, 75, 22)"}},or={displayName:"Github Light",styles:{container:"white",property:"#1F2328",bracket:"#00802e",itemCount:"#8B949E",string:"#0A3069",number:"#953800",boolean:{color:"#CF222E",fontSize:"90%",fontWeight:"bold"},null:"#FF7B72",iconCollection:"#8250DF",iconEdit:"#8250DF",iconDelete:"rgb(203, 75, 22)",iconAdd:"#8250DF",iconCopy:"#57606A"}},ar={displayName:"Black & White",fragments:{lightText:{color:"white"},midGrey:"#5c5c5c"},styles:{container:["lightText",{backgroundColor:"black"}],dropZone:"#e0e0e029",property:"lightText",bracket:"midGrey",itemCount:"#4a4a4a",string:"#a8a8a8",number:"#666666",boolean:{color:"#848484",fontStyle:"italic"},null:"#333333",iconCollection:"midGrey",iconEdit:"midGrey",iconDelete:"midGrey",iconAdd:"midGrey",iconCopy:"midGrey",iconOk:"midGrey",iconCancel:"midGrey"}},ir={fragments:{midGrey:"#a3a3a3"},displayName:"White & Black",styles:{container:"white",property:"black",bracket:"midGrey",itemCount:"#b5b5b5",string:"#575757",number:"#999999",boolean:{color:"#7b7b7b",fontStyle:"italic"},null:"#cccccc",iconCollection:"midGrey",iconEdit:"midGrey",iconDelete:"midGrey",iconAdd:"midGrey",iconCopy:"midGrey",iconOk:"midGrey",iconCancel:"midGrey"}},sr={displayName:"Candy Wrapper",fragments:{minty:{backgroundColor:"#F1FAEE"},pale:{color:"#A8DADC"},mid:{color:"#457B9D"},dark:{color:"#1D3557"},pop:{color:"#E63946"},darkBlue:{color:"#2B2D42"}},styles:{container:"minty",property:"pop",dropZone:"#eb121217",bracket:"dark",itemCount:"pale",string:"mid",number:["darkBlue",{fontSize:"85%"}],boolean:["mid",{fontStyle:"italic",fontWeight:"bold",fontSize:"80%"}],null:["#cccccc",{fontWeight:"bold"}],input:{border:"1px solid rgb(115, 194, 198)"},iconCollection:"#1D3557",iconEdit:"#457B9D",iconDelete:"#E63946",iconAdd:"#2B2D42",iconCopy:"#1D3557",iconCancel:"#E63946"}},lr={displayName:"Psychedelic",fragments:{pale:{color:"#A8DADC"},fluroYellow:"rgb(242, 228, 21)",fluroGreen:"rgb(68, 255, 62)",hotPink:"#f7379a"},styles:{container:{backgroundColor:"unset",background:"linear-gradient(90deg, hsla(333, 100%, 53%, 1) 0%, hsla(33, 94%, 57%, 1) 100%)",color:"black"},dropZone:"fluroYellow",property:"black",bracket:"fluroYellow",itemCount:["pale",{opacity:.7}],string:"white",number:["#33d9ff",{fontSize:"90%",fontWeight:"bold"}],boolean:["fluroGreen",{fontWeight:"bold",fontSize:"80%"}],null:["black",{fontWeight:"bold",opacity:.3,backgroundColor:"rgb(255, 255, 255, 0.5)",padding:"0 0.4em",borderRadius:"0.4em"}],iconCollection:"fluroYellow",iconEdit:["black"],iconDelete:["white",{opacity:.5}],iconAdd:["white",{opacity:.5}],iconCopy:"rgb(32, 84, 242)",iconOk:"fluroGreen",iconCancel:"hotPink"}};export{_n as IconAdd,Bn as IconCancel,Wn as IconChevron,Fn as IconCopy,Ln as IconDelete,Mn as IconEdit,zn as IconOk,tr as JsonEditor,qn as LinkCustomComponent,nr as LinkCustomNodeDefinition,tn as StringDisplay,Tn as StringEdit,bn as assign,sr as candyWrapperTheme,Ot as defaultTheme,Ze as extract,rr as githubDarkTheme,or as githubLightTheme,Je as isCollection,Xe as matchNode,Ft as matchNodeKey,ar as monoDarkTheme,ir as monoLightTheme,lr as psychedelicTheme,Yn as standardDataTypes,Te as toPathString,In as useKeyboardListener};
