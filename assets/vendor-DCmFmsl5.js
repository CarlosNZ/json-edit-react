import{b as Q,r as f,c as T}from"./chakra-CS389_e9.js";function J(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,a,h,l=[],i="",d=e.split("/");for(d[0]||d.shift();a=d.shift();)n=a[0],n==="*"?(l.push(n),i+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=a.indexOf("?",1),h=a.indexOf(".",1),l.push(a.substring(1,~s?s:~h?h:a.length)),i+=~s&&!~h?"(?:/([^/]+?))?":"/([^/]+?)",~h&&(i+=(~s?"?":"")+"\\"+a.substring(h))):i+="/"+a;return{keys:l,pattern:new RegExp("^"+i+(t?"(?=$|/)":"/?$"),"i")}}var b={exports:{}},C={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _;function W(){if(_)return C;_=1;var e=Q();function t(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,h=e.useLayoutEffect,l=e.useDebugValue;function i(o,u){var v=u(),m=s({inst:{value:v,getSnapshot:u}}),c=m[0].inst,r=m[1];return h(function(){c.value=v,c.getSnapshot=u,d(c)&&r({inst:c})},[o,v,u]),a(function(){return d(c)&&r({inst:c}),o(function(){d(c)&&r({inst:c})})},[o]),l(v),v}function d(o){var u=o.getSnapshot;o=o.value;try{var v=u();return!n(o,v)}catch{return!0}}function S(o,u){return u()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S:i;return C.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,C}var D;function X(){return D||(D=1,b.exports=W()),b.exports}var Y=X();const Z=T.useInsertionEffect,A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ee=A?f.useLayoutEffect:f.useEffect,te=Z||ee,q=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return te(()=>{t[0]=e}),t[1]},ne="popstate",k="pushState",U="replaceState",re="hashchange",I=[ne,k,U,re],se=e=>{for(const t of I)addEventListener(t,e);return()=>{for(const t of I)removeEventListener(t,e)}},K=(e,t)=>Y.useSyncExternalStore(se,e,t),oe=()=>location.search,ae=({ssrSearch:e=""}={})=>K(oe,()=>e),j=()=>location.pathname,ue=({ssrPath:e}={})=>K(j,e?()=>e:j),ce=(e,{replace:t=!1,state:n=null}={})=>history[t?U:k](n,"",e),ie=(e={})=>[ue(e),ce],$=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$]>"u"){for(const e of[k,U]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,$,{value:!0})}const fe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",H=(e="")=>e==="/"?"":e,le=(e,t)=>e[0]==="~"?e.slice(1):H(t)+e,de=(e="",t)=>fe(P(H(e)),P(t)),he=e=>e[0]==="?"?e.slice(1):e,P=e=>{try{return decodeURI(e)}catch{return e}},pe=e=>P(he(e)),ve={hook:ie,searchHook:ae,parser:J,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},ye=f.createContext(ve),L=()=>f.useContext(ye),Se={};f.createContext(Se);const N=e=>{const[t,n]=e.hook(e);return[de(e.base,t),q((s,a)=>n(le(s,e.base),a))]},ge=()=>N(L()),we=()=>{const e=L();return pe(e.searchHook(e))};f.forwardRef((e,t)=>{const n=L(),[s,a]=N(n),{to:h="",href:l=h,onClick:i,asChild:d,children:S,className:p,replace:o,state:u,...v}=e,m=q(r=>{r.ctrlKey||r.metaKey||r.altKey||r.shiftKey||r.button!==0||(i==null||i(r),r.defaultPrevented||(r.preventDefault(),a(l,e)))}),c=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return d&&f.isValidElement(S)?f.cloneElement(S,{onClick:m,href:c}):f.createElement("a",{...v,onClick:m,href:c,className:p!=null&&p.call?p(s===l):p,children:S,ref:t})});function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x.apply(this,arguments)}var y;(function(e){e.Undo="UNDO",e.Redo="REDO",e.Set="SET",e.Reset="RESET"})(y||(y={}));var me={past:[],present:null,future:[]},Re=function(t,n){n===void 0&&(n={});var s=x({useCheckpoints:!1},n),a=s.useCheckpoints,h=function(r,g){var E=r.past,w=r.present,R=r.future;switch(g.type){case y.Undo:{if(E.length===0)return r;var V=E[E.length-1],B=E.slice(0,E.length-1);return{past:B,present:V,future:[w].concat(R)}}case y.Redo:{if(R.length===0)return r;var z=R[0],F=R.slice(1);return{past:[].concat(E,[w]),present:z,future:F}}case y.Set:{var G=a?!!g.historyCheckpoint:!0,O=g.newPresent;return O===w?r:{past:G===!1?E:[].concat(E,[w]),present:O,future:[]}}case y.Reset:{var M=g.newPresent;return{past:[],present:M,future:[]}}}},l=f.useReducer(h,x({},me,{present:t})),i=l[0],d=l[1],S=i.past.length!==0,p=i.future.length!==0,o=f.useCallback(function(){S&&d({type:y.Undo})},[S]),u=f.useCallback(function(){p&&d({type:y.Redo})},[p]),v=f.useCallback(function(c,r){r===void 0&&(r=!1),d({type:y.Set,newPresent:c,historyCheckpoint:r})},[]),m=f.useCallback(function(c){return d({type:y.Reset,newPresent:c})},[]);return[i,{set:v,reset:m,undo:o,redo:u,canUndo:S,canRedo:p}]};export{we as a,Re as b,ge as u};
